import * from "std/fs"

pub fun get_env_var(var: Text): Text {
    let _var = unsafe $echo "\$\{!var}"$
    if _var != "" {
        return _var
    }

    if file_exist(".env") {
        unsafe $source ".env"$
        return unsafe $echo "\$\{!var}"$
    }

    return ""
}

pub fun load_env_file(): Null {
    unsafe $export "\$(xargs < .env)" > /dev/null$
}

